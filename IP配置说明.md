# IP地址配置说明

## 概述
为了方便在手机上访问视频流，需要将localhost地址改为实际的IP地址。本项目已经提供了统一的配置方案。

## 配置步骤

### 1. 前端配置（app目录）

修改文件：`app/src/utils/config.js`

```javascript
// 服务器IP地址配置
const SERVER_IP = '192.168.1.100'; // 修改为你的实际IP地址
```

### 2. 后端配置（backend目录）

修改文件：`backend/routes/camera.js`

```javascript
// 服务器配置 - 方便修改IP地址
const serverConfig = {
  // 视频流服务器IP地址（手机访问时需要改为实际IP）
  VIDEO_SERVER_IP: '192.168.1.100', // 修改为你的实际IP地址
  // API服务器IP地址
  API_SERVER_IP: '192.168.1.100'   // 修改为你的实际IP地址
};
```

## 如何获取你的IP地址

### Windows系统
1. 按 `Win + R` 打开运行对话框
2. 输入 `cmd` 并按回车
3. 在命令行中输入 `ipconfig`
4. 找到 "以太网适配器" 或 "无线局域网适配器" 下的 "IPv4 地址"

### macOS/Linux系统
1. 打开终端
2. 输入 `ifconfig` 或 `ip addr show`
3. 找到对应网卡的inet地址

## 注意事项

1. **确保手机和电脑在同一个局域网内**
2. **防火墙设置**：确保端口3000、8001、8002、8003没有被防火墙阻止
3. **IP地址一致性**：前端和后端配置的IP地址必须一致
4. **重启服务**：修改配置后需要重启前端和后端服务

## 端口说明

- `3000`：后端API服务端口
- `8001`：摄像头1视频流端口
- `8002`：摄像头2视频流端口  
- `8003`：摄像头3视频流端口

## 测试方法

1. 修改配置后重启服务
2. 在手机浏览器中访问：`http://你的IP地址:3000`
3. 如果能正常访问，说明配置成功
4. 在app中测试视频流功能

## 常见问题

### Q: 手机无法访问视频流
A: 检查以下几点：
- IP地址是否正确
- 手机和电脑是否在同一网络
- 防火墙是否阻止了端口
- 服务是否正常启动

### Q: 视频流显示黑屏
A: 可能的原因：
- 摄像头连接问题
- 网络带宽不足
- FFmpeg参数需要调优

### Q: 如何在不同网络环境下快速切换
A: 可以创建多个配置文件，或使用环境变量来管理不同的IP配置。